[data-tooltip] {
  @apply relative;

  &::part(tooltip) {
    @apply absolute text-white bg-black/80 rounded-[3px] text-xs whitespace-nowrap
    py-1 px-2 transition-all duration-200 origin-bottom pointer-events-none leading-[1.3] select-none;
  }

  &[data-tooltip="hidden"]::part(tooltip), &[data-popover="visible"]::part(tooltip) {
    @apply invisible opacity-0 scale-0
  }

  &[data-tooltip="visible"]:not([data-popover="visible"])::part(tooltip) {
    @apply visible opacity-100 scale-100
  }
}

[data-container="popover"] {
  @apply absolute w-[200px] max-h-[200px] h-[100px] bg-black/90 rounded-[3px] origin-bottom transition-all duration-200
  pointer-events-auto overflow-y-auto;

  &[data-popover="hidden"] {
    @apply invisible opacity-0 scale-0;
  }

  &[data-popover="visible"] {
    @apply visible opacity-100 scale-100;
  }
}

[data-container="control-group"] {
  @apply grid gap-3 items-center p-[min(3.33%,12px)] transition-all duration-200;

  grid-template-areas: '. . . . . . .' 'play volume time timeline pip settings fullscreen';
  grid-template-columns: auto auto auto 1fr auto auto auto;
  grid-template-rows: 1fr auto;

  &[data-status="playing"][data-hover="out"] {
    @apply invisible opacity-0 cursor-none;
  }

  &[data-status="playing"][data-move-waited] {
    @apply invisible opacity-0;
  }
}

[data-container="video"] {
  @apply block relative w-full aspect-video bg-black
  overflow-hidden border-0 border-solid border-transparent
  rounded-[4px];

  &:fullscreen {
    @apply rounded-none
  }

  &::part(media) {
    @apply text-[0] w-full h-full m-0 p-0 object-contain;

    &::cue {
      @apply text-gray-300 bg-black/80 text-sm;
    }
  }
}

[data-container="time"] {
  @apply w-full h-full text-white flex items-center gap-1 font-sans text-xs;
}

[data-control="fullscreen"],
[data-control="pip"],
[data-control="play"],
[data-control="settings"] {
  @apply relative w-5 h-5 p-0
  pointer-events-auto cursor-pointer
  scale-100 text-light
  transition-all duration-200
  hover:scale-110 hover:text-accent;
}

[data-control="volume"] {
  @apply relative h-full p-0 pointer-events-auto cursor-pointer flex items-center w-full gap-1.5;
  --volume-control-range-thumb-size: 5px;
  --volume-control-range-height: 5px;
  --volume-control-range-border-radius: 2px;

  &::part(icon) {
    @apply w-5 h-5 scale-100 text-light
    transition-all duration-200
    hover:scale-110 hover:text-accent;
  }

  &:hover::part(range), &:focus-within::part(range) {
    @apply block;
  }

  &::part(range) {
    @apply hidden cursor-pointer bg-light/60 w-[70px] rounded-[2px] text-accent;
  }

  &:not(:hover)::part(range) {
    @apply hidden cursor-pointer bg-light/60 w-[70px] rounded-[2px] text-accent;
  }
}

[data-control="timeline"] {
  @apply relative h-full flex items-center;

  --time-control-range-thumb-size: 5px;
  --time-control-range-height: 5px;
  --time-control-range-border-radius: 2px;

  &:hover {
    @apply transition-all duration-200;

    --time-control-range-thumb-size: 7px;
    --time-control-range-height: 7px;
  }

  &::part(timeline) {
    @apply relative pointer-events-auto cursor-pointer w-full flex items-center rounded-[2px] overflow-hidden;
  }

  &::part(range) {
    @apply absolute bg-light/60 w-full text-accent z-[2] cursor-pointer;
  }

  &::part(progress) {
    @apply absolute text-light/60 w-full;
  }

  &::part(tooltip) {
    @apply absolute top-0 -translate-y-[120%] -translate-x-[50%] text-white bg-black/80 rounded-[3px] text-xs whitespace-nowrap
    py-1 px-2 pointer-events-none leading-[1.3] select-none;
  }
}
